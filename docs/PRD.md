# PRD: ifonin.ru — Экспертный блог (MVP)

**Author:** IGoRFonin
**Date:** 2026-02-11
**Status:** Launched
**Version:** 1.1

## 1. Problem Statement

У автора (Igor Fonin) есть экспертиза в вайб-кодинге и AI-инструментах, YouTube-канал, но нет собственной площадки с SEO-трафиком. YouTube не индексируется поисковиками как текстовый контент. Русскоязычная аудитория, интересующаяся вайб-кодингом, ищет информацию в Яндексе и Google — и не находит автора.

Собственный блог решает три задачи:
- **Органический трафик** — статьи индексируются и приводят новых читателей
- **Воронка** — читатели блога → подписчики YouTube/Telegram → покупатели будущих продуктов
- **Экспертный бренд** — площадка, которую автор полностью контролирует

## 2. Goals & Success Metrics

| Цель | Метрика | Целевое значение |
|------|---------|-----------------|
| Запустить MVP в срок | Дата деплоя рабочей версии | До 16 февраля 2026 |
| Доступность из РФ | Сайт открывается без VPN из РФ (проверка через VPS/прокси) | 100% доступность |
| Доступность за рубежом | Сайт открывается из-за пределов РФ | 100% доступность |
| Скорость загрузки | Google PageSpeed Insights (Mobile) | ≥ 95/100 |
| SEO-готовность | Все мета-теги, OG, JSON-LD, sitemap, robots.txt, RSS на месте | Чеклист пройден |
| Готовность к контенту | Можно создать и опубликовать статью за < 5 минут (hugo new + git push) | Воркфлоу работает |

## 3. Target Users

**Первичная аудитория:** Русскоязычные люди (РФ/СНГ), интересующиеся вайб-кодингом и созданием проектов с помощью AI. Не обязательно разработчики — предприниматели, продакты, дизайнеры, любопытствующие.

**Вторичная аудитория:** Русскоязычные за рубежом с тем же интересом.

**Персона:**
- Дима, 30 лет, продакт-менеджер. Слышал про вайб-кодинг, хочет попробовать сделать пет-проект без навыков программирования. Гуглит "вайб кодинг с чего начать", находит статью в блоге, переходит на YouTube за деталями.

## 4. User Stories

- Как **читатель**, я хочу открыть сайт из РФ без VPN, чтобы читать контент без препятствий
- Как **читатель**, я хочу видеть список статей с датами, чтобы быстро найти свежий контент
- Как **читатель**, я хочу читать статью в чистом, удобном формате, чтобы фокусироваться на тексте
- Как **читатель**, я хочу перейти на YouTube автора со страницы блога, чтобы посмотреть видео по теме
- Как **читатель**, я хочу подписаться на RSS, чтобы получать обновления
- Как **поисковый робот**, я хочу получить структурированные данные (JSON-LD, OG, sitemap), чтобы правильно индексировать контент
- Как **автор**, я хочу создать и опубликовать статью через `hugo new` + `git push`, чтобы тратить на деплой минимум времени
- Как **автор**, я хочу видеть превью статьи локально (`hugo server`), чтобы проверить до публикации

## 5. Functional Requirements

### P0 — Must Have (блокируют запуск)

- [ ] REQ-001: Главная страница (`/`) shall отображать имя автора, краткое описание (кто, чем занимается), ссылку на YouTube
- [ ] REQ-002: Страница блога (`/blog/`) shall отображать список статей в обратном хронологическом порядке (дата + заголовок-ссылка)
- [ ] REQ-003: Страница статьи (`/blog/<slug>/`) shall отображать: хлебные крошки, заголовок H1, дату + время чтения, текст, теги, навигацию пред./след.
- [ ] REQ-004: Страница "Обо мне" (`/about/`) shall содержать подробную информацию об авторе
- [ ] REQ-005: Навигация на подстраницах shall содержать текстовую ссылку «← ifonin.ru» для возврата на главную
- [ ] REQ-006: Весь CSS shall быть в одном файле `style.css`, ≤ 200 строк, без внешних зависимостей
- [ ] REQ-007: Шрифт shall быть системным `monospace`, размер 16px, line-height 1.6, max-width 640px
- [ ] REQ-008: Каждая страница shall содержать мета-теги: title (≤ 60 символов), description (≤ 160 символов), canonical URL
- [ ] REQ-009: Каждая страница shall содержать Open Graph теги (og:title, og:description, og:image, og:type, og:locale=ru_RU)
- [ ] REQ-010: Страницы статей shall содержать JSON-LD `BlogPosting`, главная — `Person`, все страницы — `BreadcrumbList`
- [ ] REQ-011: Hugo shall генерировать `sitemap.xml` и `robots.txt`
- [ ] REQ-012: Hugo shall генерировать RSS-ленту (`/index.xml`)
- [ ] REQ-013: OG-картинка shall быть одна дефолтная (логотип/текст "ifonin.ru") для всех страниц
- [ ] REQ-014: Архетип `blog.md` shall генерировать front matter с полями: title, date, lastmod, description, tags, slug, draft
- [x] REQ-015: Сайт shall быть задеплоен на VPS (Timeweb Cloud) через Coolify
- [x] REQ-016: Coolify shall автоматически деплоить при push в GitHub
- [x] REQ-017: SSL shall быть настроен через Coolify / Let's Encrypt
- [x] REQ-018: Сайт shall быть доступен из РФ без VPN

### P1 — Should Have (желательно в MVP)

- [ ] REQ-019: Страницы тегов (`/tags/<tag>/`) should отображать список статей с данным тегом
- [ ] REQ-020: Теги с < 3 постами should иметь `noindex` в robots meta
- [ ] REQ-021: Callout-блоки should быть стилизованы: зелёный бордюр слева (инсайты), красный (предупреждения)
- [ ] REQ-022: Код-блоки should иметь фон `#f8f8f8` и бордер `#eee`

### P1.5 — Post-MVP (сразу после запуска)

- [ ] REQ-026: Self-hosted аналитика (Umami) shall быть развёрнута на `analytics.ifonin.ru` — просмотры, реферреры, география (страны/города), время на странице. Скрипт ≤ 2 КБ gzipped. Без cookies. Дизайн: `docs/plans/2026-02-15-umami-analytics-design.md`
- [x] REQ-027: Сайт shall быть зарегистрирован в Google Search Console — подтверждение владения (DNS TXT-запись или HTML-файл), отправка sitemap.xml
- [x] REQ-028: Сайт shall быть зарегистрирован в Яндекс Вебмастере — подтверждение владения (DNS TXT-запись или HTML-файл), отправка sitemap.xml

### P2 — Nice to Have (после MVP)

- [ ] REQ-023: Gcore CDN may быть настроен для кэширования на edge-серверах в РФ/СНГ
- [ ] REQ-024: Per-article OG-картинки may генерироваться через AI
- [ ] REQ-025: Кастомный favicon may быть добавлен

## 6. Non-Functional Requirements

- **Производительность:** Время загрузки страницы ≤ 1 секунда на 3G-соединении. Вес страницы ≤ 50 КБ (HTML + CSS). Нулевой JS в MVP.
- **Доступность (сетевая):** Сайт доступен из РФ без VPN. IP-адрес VPS не заблокирован Роскомнадзором. Сайт также доступен из-за пределов РФ.
- **Совместимость:** Современные браузеры (Chrome, Firefox, Safari, Edge — последние 2 версии). Мобильные устройства (responsive через max-width, без media queries).
- **Maintainability:** Один человек может поддерживать сайт. Публикация новой статьи — `hugo new` + написать текст + `git push`. Нулевая зависимость от внешних сервисов в рантайме (статический HTML).
- **SEO:** Валидный HTML5. Все страницы отдают HTTP 200. Sitemap и robots.txt доступны.

## 7. Acceptance Criteria

- [x] AC-001: Given сайт задеплоен, when пользователь из РФ открывает ifonin.ru без VPN, then страница загружается полностью за ≤ 3 секунды
- [x] AC-002: Given сайт задеплоен, when пользователь из-за пределов РФ открывает ifonin.ru, then страница загружается полностью
- [ ] AC-003: Given главная страница, when пользователь открывает `/`, then видит имя автора, описание и кликабельную ссылку на YouTube
- [ ] AC-004: Given страница блога, when есть опубликованные статьи, then они отображаются в обратном хронологическом порядке (дата + заголовок)
- [ ] AC-005: Given страница статьи, when пользователь открывает `/blog/<slug>/`, then видит хлебные крошки, H1, дату, время чтения, текст, теги, пред./след. навигацию
- [ ] AC-006: Given исходный код страницы, when проверяем мета-теги, then присутствуют: title, description, canonical, og:title, og:description, og:image, og:type, og:locale
- [ ] AC-007: Given исходный код статьи, when проверяем JSON-LD, then присутствует валидный `BlogPosting` с headline, datePublished, author
- [ ] AC-008: Given URL `/sitemap.xml`, when запрашиваем, then получаем валидный XML sitemap со всеми страницами
- [ ] AC-009: Given URL `/robots.txt`, when запрашиваем, then получаем файл с `Allow: /` и ссылкой на sitemap
- [ ] AC-010: Given URL `/index.xml`, when запрашиваем, then получаем валидный RSS-фид
- [ ] AC-011: Given автор выполняет `hugo new blog/test-post.md`, when заполняет front matter и пушит в GitHub, then Coolify деплоит и статья доступна по URL
- [ ] AC-012: Given Google PageSpeed Insights, when анализируем главную страницу (Mobile), then оценка ≥ 95

## 8. Design Considerations

**Визуальный стиль:** Брутальный минимализм.

**Типографика:**
- Системный `monospace`, нулевые внешние шрифты
- 16px base, line-height 1.6
- H1: 24px, H2: 18px, H3: 16px
- Контентная колонка: max-width 640px, центрирована

**Цвета:**
| Элемент | Цвет |
|---------|------|
| Фон | `#fff` |
| Текст | `#000` |
| Ссылки | `#0000EE` |
| Visited | `#551A8B` |
| Вторичный текст | `#666` |
| Фон кода | `#f8f8f8` |
| Бордер кода | `#eee` |

**Принципы:**
- Никаких: иконок, картинок в ленте, анимаций, градиентов, теней
- Навигация: текстовая ссылка «← ifonin.ru» на подстраницах
- Список постов: только дата + заголовок-ссылка
- Контент — король. Ничто не отвлекает от текста.

## 9. Technical Considerations

**SSG:** Hugo (Go). Устанавливается через `brew install hugo` или бинарник.

**Структура проекта:**
```
ifonin.ru/
├── hugo.toml
├── content/ (статьи в Markdown)
├── layouts/ (шаблоны: baseof, list, single, partials)
├── static/ (images, favicon, дефолтная OG-картинка)
└── archetypes/ (blog.md шаблон)
```

**Деплой:**
- VPS: Timeweb Cloud MSK 50 (2 vCPU / 4 ГБ / 50 ГБ NVMe), IP: 31.130.151.138
- Coolify v4.0.0-beta: self-hosted PaaS, панель на https://cool.ifonin.ru (порт 8000 закрыт извне)
- Pipeline: `git push` → GitHub webhook → Coolify → Docker build (Hugo) → nginx:alpine раздаёт статику
- Ежедневный автодеплой: cron на VPS (6:00 MSK) дёргает Coolify API для публикации отложенных постов
- DNS: REG.RU (ns1.reg.ru, ns2.reg.ru), A-записи: @, www, cool → 31.130.151.138

**Зависимости:**
- Hugo (единственная build-зависимость)
- Git + GitHub (репозиторий)
- VPS с доступом по SSH
- Домен ifonin.ru (REG.RU, DNS → 31.130.151.138)

**OG-картинка:** Одна статическая картинка 1200×630px с текстом "ifonin.ru" в `static/images/og-default.png`.

## 10. Out of Scope

- Поиск по сайту
- Комментарии
- Аналитика тяжёлая (Яндекс.Метрика, Google Analytics) — заменена на Umami (self-hosted, ~2 КБ скрипт)
- Newsletter / email-подписка
- Тёмная тема
- Мультиязычность (только русский)
- Gcore CDN (настраивается после MVP)
- Per-article OG-картинки (после MVP)
- Кастомный favicon (после MVP)
- Telegram-канал (пока нет, ссылка добавится когда появится)
- Монетизация / платный контент
- CI/CD помимо Coolify (нет GitHub Actions)

## 11. Open Questions

| # | Вопрос | Статус |
|---|--------|--------|
| OQ-1 | Какой VPS-провайдер выбран: Selectel или Timeweb Cloud? | **Решено:** Timeweb Cloud, тариф Cloud MSK 50 (2 vCPU / 4 ГБ / 50 ГБ NVMe) — 1 062 ₽/мес. PaaS: Coolify |
| OQ-2 | Какой регистратор для домена? | **Решено:** REG.RU, домен ifonin.ru (129 ₽/1-й год, ~999 ₽/год продление). Зона .ru вместо .tech — дешевле в 5 раз, лучше для SEO в Яндексе |
| OQ-3 | Ссылка на YouTube-канал (точный URL)? | Нужно получить от автора |
| OQ-4 | Текст для главной страницы (описание автора) — есть черновик? | Нет |
| OQ-5 | Текст для страницы "Обо мне" — есть черновик? | Нет |
| OQ-6 | Инфраструктура деплоя | **Решено:** Dockerfile (hugomods/hugo + nginx:alpine), GitHub webhook, cron для отложенных постов |

## 12. Dependencies & Risks

| Риск | Влияние | Митигация |
|------|---------|-----------|
| ~~Домен не куплен к 12 февраля~~ | ~~Нельзя настроить DNS и SSL~~ | ~~✅ Домен куплен на REG.RU, DNS настроен~~ |
| ~~VPS не настроен вовремя~~ | ~~Coolify не работает, деплой невозможен~~ | ~~✅ VPS куплен (Timeweb Cloud MSK 50), Coolify настроен~~ |
| ~~Coolify требует отладки~~ | ~~Автодеплой не работает~~ | ~~✅ Автодеплой работает: webhook + ежедневный cron~~ |
| IP VPS блокируется Роскомнадзором | Сайт недоступен из РФ | ✅ Timeweb Cloud, российский провайдер — IP не блокируется |
| Один человек — единая точка отказа | Болезнь/форс-мажор → срыв дедлайна | ✅ MVP запущен 13 февраля 2026, за 3 дня до дедлайна |
