{{ define "main" }}
{{ partial "breadcrumbs.html" . }}

<article>
  <header class="article-header">
    <h1>{{ .Title }}</h1>
    <div class="article-meta">
      <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "02.01.2006" }}</time>
      · {{ $words := countwords .Content }}{{ $min := math.Round (div (float $words) 200.0) }}{{ if lt $min 1.0 }}1{{ else }}{{ int $min }}{{ end }} мин. чтения
    </div>
  </header>

  <div class="article-content">
    {{ .Content }}
  </div>

  {{ with .Params.tags }}
  <div class="tags">
    {{ range . }}
      <a href="{{ "tags/" | absURL }}{{ . | urlize }}/">{{ . }}</a>
    {{ end }}
  </div>
  {{ end }}

  <nav class="post-nav">
    {{ with .PrevInSection }}
      <a class="post-nav-item" href="{{ .Permalink }}">
        <span class="post-nav-label">Назад</span>
        {{ .Title }}
      </a>
    {{ else }}
      <span></span>
    {{ end }}
    {{ with .NextInSection }}
      <a class="post-nav-item post-nav-next" href="{{ .Permalink }}">
        <span class="post-nav-label">Вперёд</span>
        {{ .Title }}
      </a>
    {{ else }}
      <span></span>
    {{ end }}
  </nav>
</article>
{{ end }}
